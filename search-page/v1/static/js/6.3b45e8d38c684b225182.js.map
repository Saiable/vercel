{"version":3,"sources":["webpack:///src/views/userinfo/index.vue","webpack:///./src/views/userinfo/index.vue?42e9","webpack:///./src/views/userinfo/index.vue?6f4d"],"names":["views_userinfo","name","data","localImg","localStorage","getItem","radioGender","imageUrl","actionUrl","userInfoRes","email","gender","head_logo","nickname","passport","password","isModify","passwordIsModify","outOfIndex","head_logo_index","input","modifyItem","newPassportItem","newPassportItem2","methods","changeGender","value","_this","this","genderData","Object","userinfo","then","res","getBase64","file","promise_default","a","resolve","reject","reader","FileReader","imgResult","readAsDataURL","onload","result","onerror","error","onloadend","getFile","fileList","_this2","raw","avatarData","HeadLogo","modifyInfo","item","cancelModify","confirmModify","_this3","newEmailData","code","window","alert","message","nickNameData","console","log","goBack","$router","push","created","_this4","selectortype_template_index_0_src_views_userinfo","render","_vm","_h","$createElement","_c","_self","staticClass","style","backgroundImage","on","click","_v","attrs","action","show-file-list","on-change","ref","src","_s","$event","directives","rawName","expression","arg","type","placeholder","domProps","target","composing","$set","change","model","callback","$$v","label","_m","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/6.3b45e8d38c684b225182.js","sourcesContent":["<template>\n  <div class=\"classbody\" :style=\"{backgroundImage:'url('+localImg+')'}\">\n\n    <div class=\"outer-userinfo\">\n      <div class=\"go-back\" @click=\"goBack\">\n        <span class=\"iconfont icon-fanhui\"></span>\n      </div>\n      <!--头像部分-->\n      <div class=\"item-outer\">\n        <el-upload\n          class=\"avatar-uploader\"\n          action=\"thisIsElementUIBug\"\n          :show-file-list=\"false\"\n          :on-change=\"getFile\"\n        >\n          <img v-if=\"userInfoRes.head_logo\" :src=\"userInfoRes.head_logo\" class=\"avatar\" ref=\"phoUrl\">\n          <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n        </el-upload>\n      </div>\n      <div class=\"part-outer\">\n        <!--昵称-->\n        <div class=\"email-item item-outer\">\n          <span class=\"itme-key item-inner\">昵称：</span>\n\n          <div v-if=\"isModify.nickname\" class=\"modify-item\">\n            <span class=\"itme-value item-inner\">{{userInfoRes.nickname}}</span>\n            <button @click=\"modifyInfo('nickname')\">修改</button>\n          </div>\n          <div v-else class=\"modify-item\">\n            <input type=\"text\" :placeholder=\"userInfoRes.nickname\" v-model:value=\"input.nickname\">\n            <button @click=\"cancelModify('nickname')\">取消</button>\n            <button @click=\"confirmModify('nickname')\">确定</button>\n          </div>\n\n        </div>\n\n        <!--性别-->\n        <div class=\"gender-item item-outer\">\n          <span class=\"itme-value item-inner\">性别：</span>\n\n          <el-radio-group v-model=\"radioGender\" @change=\"changeGender\">\n            <el-radio class=\"radio\" label=\"0\">男</el-radio>\n            <el-radio class=\"radio\" label=\"1\">女</el-radio>\n            <el-radio class=\"radio\" label=\"2\">保密</el-radio>\n          </el-radio-group>\n        </div>\n\n        <!--账户-->\n        <div class=\"passport-item item-outer\">\n          <span class=\"itme-key item-inner\">账户：</span>\n          <span class=\"itme-value item-inner\">{{userInfoRes.passport}}</span>\n        </div>\n\n        <!--密码-->\n        <div class=\"password-item item-outer\">\n          <span class=\"itme-key item-inner\">密码：</span>\n          <span class=\"itme-value item-inner\">******</span>\n        </div>\n\n        <!--邮箱-->\n        <div class=\"email-item item-outer\">\n          <span class=\"itme-key item-inner\">邮箱：</span>\n\n          <div v-if=\"isModify.email\" class=\"modify-item\">\n            <span class=\"itme-value item-inner\">{{userInfoRes.email}}</span>\n            <button @click=\"modifyInfo('email')\">修改</button>\n          </div>\n          <div v-else class=\"modify-item\">\n            <input type=\"text\" :placeholder=\"userInfoRes.email\" v-model:value=\"input.email\">\n            <button @click=\"cancelModify('email')\">取消</button>\n            <button @click=\"confirmModify('email')\">确定</button>\n          </div>\n\n        </div>\n\n      </div>\n\n\n      <div>\n        <!--<div v-for=\"(val, key, index) in userInfoRes\">-->\n        <!--  &lt;!&ndash;过滤掉头像框字段&ndash;&gt;-->\n        <!--  <div v-if=\"key != 'head_logo'\">-->\n        <!--    <el-row class=\"every-line\">-->\n        <!--      &lt;!&ndash;显示所有的key&ndash;&gt;-->\n        <!--      <el-col :span=\"12\">-->\n        <!--        <div class=\"grid-content bg-purple\">-->\n        <!--          {{key}}-->\n        <!--        </div>-->\n        <!--      </el-col>-->\n        <!--      &lt;!&ndash;判定是否点击修改，显示修改按钮&ndash;&gt;-->\n        <!--      <div v-if=\"!isModify[index]\">-->\n        <!--        &lt;!&ndash;判定是否是性别字段&ndash;&gt;-->\n        <!--        <div v-if=\"key == 'gender'\">-->\n        <!--          &lt;!&ndash;{{userInfoRes.gender}}&ndash;&gt;-->\n        <!--          <el-radio-group v-model=\"radioGender\" @change=\"changeGender\">-->\n        <!--            <el-radio class=\"radio\" label=\"0\">男</el-radio>-->\n        <!--            <el-radio class=\"radio\" label=\"1\">女</el-radio>-->\n        <!--            <el-radio class=\"radio\" label=\"2\">保密</el-radio>-->\n        <!--          </el-radio-group>-->\n\n        <!--        </div>-->\n        <!--        &lt;!&ndash;不是性别字段，显示为input输入框&ndash;&gt;-->\n        <!--        <div v-else>-->\n        <!--          <el-col :span=\"6\">-->\n        <!--            <div class=\"grid-content bg-purple-light\">-->\n        <!--              {{val}}-->\n        <!--            </div>-->\n        <!--          </el-col>-->\n        <!--        </div>-->\n\n\n        <!--        &lt;!&ndash;判定账户，密码两个字段，如果是，隐藏修改按钮，因为不支持修改&ndash;&gt;-->\n        <!--        <div v-if=\"key == 'passport' || key == 'password' || key == 'gender'\">-->\n\n        <!--        </div>-->\n        <!--        &lt;!&ndash;其他字段，显示修改按钮&ndash;&gt;-->\n        <!--        <div v-else>-->\n        <!--          <el-col :span=\"6\">-->\n        <!--            <button @click=\"modifyInfo(index)\">-->\n        <!--              <i class=\"el-icon-edit el-input__icon\"></i>-->\n        <!--              修改-->\n        <!--            </button>-->\n        <!--          </el-col>-->\n        <!--        </div>-->\n\n        <!--      </div>-->\n\n        <!--      &lt;!&ndash;点击了修改，呈现的结构&ndash;&gt;-->\n\n        <!--      <div v-else>-->\n        <!--        <div v-if=\"!passwordIsModify\">-->\n        <!--          <el-col :span=\"6\">-->\n        <!--            <el-input v-model=\"input[index]\" placeholder=\"\"></el-input>-->\n        <!--          </el-col>-->\n        <!--          <el-col :span=\"6\">-->\n        <!--            <button @click=\"cancelModify(index)\">-->\n        <!--              <i class=\"el-icon-edit el-input__icon\"></i>-->\n        <!--              取消-->\n        <!--            </button>-->\n\n        <!--            <button @click=\"confirmModify(index)\">-->\n        <!--              <i class=\"el-icon-edit el-input__icon\"></i>-->\n        <!--              确定-->\n        <!--            </button>-->\n        <!--          </el-col>-->\n        <!--        </div>-->\n        <!--        <div v-else>-->\n        <!--          <el-col :span=\"6\">-->\n        <!--            <el-input v-model=\"input[index]\" placeholder=\"\" :disabled=\"true\"></el-input>-->\n        <!--          </el-col>-->\n        <!--          <el-col :span=\"6\">-->\n        <!--            <button @click=\"cancelModify(index)\">-->\n        <!--              <i class=\"el-icon-edit el-input__icon\"></i>-->\n        <!--              取消-->\n        <!--            </button>-->\n\n        <!--            <button @click=\"confirmModify(index)\">-->\n        <!--              <i class=\"el-icon-edit el-input__icon\"></i>-->\n        <!--              确定-->\n        <!--            </button>-->\n        <!--            <br>-->\n        <!--          </el-col>-->\n        <!--          <el-input v-model=\"newPassportItem\" placeholder=\"请输入新密码\" :disabled=\"true\"></el-input>-->\n        <!--          <el-input v-model=\"newPassportItem2\" placeholder=\"请重复确认新密码\" :disabled=\"true\"></el-input>-->\n        <!--        </div>-->\n\n\n        <!--      </div>-->\n\n        <!--    </el-row>-->\n\n\n        <!--  </div>-->\n\n        <!--</div>-->\n\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n\n  import {\n    getUserData,\n    setEmailData,\n    setNicknameData,\n    setGenderData,\n    setPassportData,\n    setAvatorData,\n  } from '@/api/userinfo';\n\n  export default {\n    name: \"UserInfo\",\n    data() {\n      return {\n        localImg: localStorage.getItem('defaultImage'),\n        radioGender: '0',\n        // radio:\"1\",\n        imageUrl: '', // 上传图片\n        actionUrl: '',\n        //请求数据后，会将下面的字段全部覆盖，这是只是做一个标识\n        userInfoRes: {\n          email: '',\n          gender: 2,\n          head_logo: '',\n          nickname: '',\n          passport: '',\n          password: '',// 后端暂时没有传这个字段\n        },\n        // 用来判断哪一个属性需要修改\n        isModify: {\n          nickname: true,\n          email: true\n        },\n        // html结构上，对头像属性单独处理\n        passwordIsModify: false,\n        outOfIndex: {\n          head_logo_index: 2,\n        },\n        // 应该存储对应的value\n        input: {\n          nickname: '',\n          email: '',\n        },\n        // 修改信息的辅助变量，根据index获得key，来判断发哪个请求\n        modifyItem: [\n          'email',\n          'gender',\n          'head_logo',\n          'nickname',\n          'passport',\n          'password',// 密码，后端暂时没有这个字段\n        ],\n        newPassportItem: '',\n        newPassportItem2: '',\n\n\n      };\n    },\n    methods: {\n      changeGender(value) {\n        // console.log('change' + value)\n        let genderData = {\n          gender: value\n        }\n        setGenderData(genderData).then(res => {\n          // console.log(res)\n          this.userInfoRes.gender = value\n        })\n      },\n      getBase64(file) {  //把图片转成base64编码\n        return new Promise(function (resolve, reject) {\n          let reader = new FileReader();\n          let imgResult = \"\";\n          reader.readAsDataURL(file);\n\n          reader.onload = function () {\n            imgResult = reader.result;\n          };\n          reader.onerror = function (error) {\n            reject(error);\n          };\n          reader.onloadend = function () {\n            resolve(imgResult);\n          }\n        })\n      },\n      getFile(file, fileList) {  //上传头像\n\n        this.getBase64(file.raw).then(res => {\n          this.userInfoRes.head_logo = res\n          let avatarData = {\n            HeadLogo: this.userInfoRes.head_logo\n          }\n          setAvatorData(avatarData).then(res => {\n            // console.log(res)\n          })\n        })\n\n      },\n\n      modifyInfo(item) {\n        // this.isModify = []\n        // this.isModify[index] = true\n        // if (this.modifyItem[index] == 'password') {\n        //   this.passwordIsModify = true\n        // }\n        if (item == 'nickname') {\n          this.isModify.nickname = false\n        }\n        if (item == 'email') {\n          this.isModify.email = false\n\n        }\n      },\n      cancelModify(item) {\n        // this.isModify = false\n        // this.passwordIsModify = false\n        if (item == 'nickname') {\n          this.isModify.nickname = true\n        }\n\n        if (item == 'email') {\n          this.isModify.email = true\n        }\n      },\n      confirmModify(item) {\n        // console.log(localStorageAuth)\n\n        // 将修改后的值，返回给后端数据库\n        // console.log(index)\n        // console.log(this.input[index])\n        // 修改邮箱\n        if (item == 'email') {\n          let newEmailData = {\n            \"email\": this.input.email\n          }\n          setEmailData(newEmailData).then(res => {\n            // console.log(res)\n            // 更新本地显示\n            if (res.code == 0) {\n                this.userInfoRes.email = this.input.email\n            } else {\n              window.alert(\"修改邮箱失败，失败原因如下:\\n \"+ res.message);\n            }\n            // this.userInfoRes.email = this.input.email\n          })\n          this.isModify.email = true\n        }\n        // 修改昵称\n        if (item == 'nickname') {\n          // this.input.nickname = this.userInfoRes.nickname\n          let nickNameData = {\n            \"nickname\": this.input.nickname\n          }\n          setNicknameData(nickNameData).then(res => {\n            console.log(res);\n            if (res.code == 0) {\n                this.userInfoRes.nickname = this.input.nickname\n            } else {\n              window.alert(\"修改昵称失败，失败原因如下:\\n \"+ res.message);\n            }\n\n            // this.userInfoRes.nickname = this.input.nickname\n\n          })\n          this.isModify.nickname = true\n        }\n\n        // 修改性别\n        // if(this.modifyItem[index] == 'gender') {\n        //   let genderData = {\n        //     gender: this.input[index]\n        //   }\n        //   modifyGenderInfo(localStorageAuth, genderData).then(res => {\n        //     console.log(res)\n        //     this.userInfoRes.gender = this.input[index]\n        //   })\n        // }\n        // 修改密码\n        // if (this.modifyItem[index] == 'passport') {\n        //   let OldPassword = this.input[index]\n        //   let Password = this.newPassportItem\n        //   let Password2 = this.newPassportItem2\n        //   let passportData = {\n        //     OldPassword,\n        //     Password,\n        //     Password2,\n        //   }\n        //   if (this.newPassportItem == this.newPassportItem2) {\n        //     setPassportData(localStorageAuth, passportData).then(res => {\n        //       // console.log(res)\n        //     })\n        //   } else {\n        //     alert('两次密码输入不相等')\n        //     this.passwordIsModify = true\n        //   }\n        // }\n        //点击确认，前端样式发生变化\n        // this.passwordIsModify = false\n      },\n\n      goBack() {\n        this.$router.push('home')\n      }\n    },\n\n    created() {\n      // console.log(localStorageAuth)\n      getUserData().then(res => {\n        this.userInfoRes = res.data\n        this.userInfoRes['password'] = '暂不支持修改'\n        this.radioGender = '' + this.userInfoRes['gender']\n        // console.log(this.radio)\n        // console.log(this.userInfoRes)\n        // let num = 0\n        // let temp = []\n\n        // for (let item in this.userInfoRes) {\n        //   this.isModify.push(false)\n        //\n        //   // console.log(this.userInfoRes,item,this.userInfoRes.email)\n        //   // console.log(this.userInfoRes[item])\n        //\n        //   // 直接以item作为key，它拿不到数据，如下为中转方案\n        //   // 不能用点的去取值，只能用[]的形式\n        //   // temp.push(item)\n        //   // let that_item = temp[num]\n        //   // this.input[num] = this.userInfoRes[that_item]\n        //   this.input.push(this.userInfoRes[item])\n        //   if (item == 'head_logo') {\n        //     this.outOfIndex.head_logo_index = num\n        //     // console.log(this.outOfIndex.head_logo_index)\n        //   }\n        //   num += 1\n        // }\n        // console.log(this.input)\n\n        // 把服务器的img数据，存到本地变量\n        // console.log(this.input)\n\n      })\n\n\n    }\n  }\n</script>\n\n<style scoped>\n  @import \"../../styles/views/userinfo/userinfo.css\";\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/userinfo/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"classbody\",style:({backgroundImage:'url('+_vm.localImg+')'})},[_c('div',{staticClass:\"outer-userinfo\"},[_c('div',{staticClass:\"go-back\",on:{\"click\":_vm.goBack}},[_c('span',{staticClass:\"iconfont icon-fanhui\"})]),_vm._v(\" \"),_c('div',{staticClass:\"item-outer\"},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":\"thisIsElementUIBug\",\"show-file-list\":false,\"on-change\":_vm.getFile}},[(_vm.userInfoRes.head_logo)?_c('img',{ref:\"phoUrl\",staticClass:\"avatar\",attrs:{\"src\":_vm.userInfoRes.head_logo}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1),_vm._v(\" \"),_c('div',{staticClass:\"part-outer\"},[_c('div',{staticClass:\"email-item item-outer\"},[_c('span',{staticClass:\"itme-key item-inner\"},[_vm._v(\"昵称：\")]),_vm._v(\" \"),(_vm.isModify.nickname)?_c('div',{staticClass:\"modify-item\"},[_c('span',{staticClass:\"itme-value item-inner\"},[_vm._v(_vm._s(_vm.userInfoRes.nickname))]),_vm._v(\" \"),_c('button',{on:{\"click\":function($event){return _vm.modifyInfo('nickname')}}},[_vm._v(\"修改\")])]):_c('div',{staticClass:\"modify-item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model:value\",value:(_vm.input.nickname),expression:\"input.nickname\",arg:\"value\"}],attrs:{\"type\":\"text\",\"placeholder\":_vm.userInfoRes.nickname},domProps:{\"value\":(_vm.input.nickname)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.input, \"nickname\", $event.target.value)}}}),_vm._v(\" \"),_c('button',{on:{\"click\":function($event){return _vm.cancelModify('nickname')}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('button',{on:{\"click\":function($event){return _vm.confirmModify('nickname')}}},[_vm._v(\"确定\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"gender-item item-outer\"},[_c('span',{staticClass:\"itme-value item-inner\"},[_vm._v(\"性别：\")]),_vm._v(\" \"),_c('el-radio-group',{on:{\"change\":_vm.changeGender},model:{value:(_vm.radioGender),callback:function ($$v) {_vm.radioGender=$$v},expression:\"radioGender\"}},[_c('el-radio',{staticClass:\"radio\",attrs:{\"label\":\"0\"}},[_vm._v(\"男\")]),_vm._v(\" \"),_c('el-radio',{staticClass:\"radio\",attrs:{\"label\":\"1\"}},[_vm._v(\"女\")]),_vm._v(\" \"),_c('el-radio',{staticClass:\"radio\",attrs:{\"label\":\"2\"}},[_vm._v(\"保密\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"passport-item item-outer\"},[_c('span',{staticClass:\"itme-key item-inner\"},[_vm._v(\"账户：\")]),_vm._v(\" \"),_c('span',{staticClass:\"itme-value item-inner\"},[_vm._v(_vm._s(_vm.userInfoRes.passport))])]),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"email-item item-outer\"},[_c('span',{staticClass:\"itme-key item-inner\"},[_vm._v(\"邮箱：\")]),_vm._v(\" \"),(_vm.isModify.email)?_c('div',{staticClass:\"modify-item\"},[_c('span',{staticClass:\"itme-value item-inner\"},[_vm._v(_vm._s(_vm.userInfoRes.email))]),_vm._v(\" \"),_c('button',{on:{\"click\":function($event){return _vm.modifyInfo('email')}}},[_vm._v(\"修改\")])]):_c('div',{staticClass:\"modify-item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model:value\",value:(_vm.input.email),expression:\"input.email\",arg:\"value\"}],attrs:{\"type\":\"text\",\"placeholder\":_vm.userInfoRes.email},domProps:{\"value\":(_vm.input.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.input, \"email\", $event.target.value)}}}),_vm._v(\" \"),_c('button',{on:{\"click\":function($event){return _vm.cancelModify('email')}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('button',{on:{\"click\":function($event){return _vm.confirmModify('email')}}},[_vm._v(\"确定\")])])])]),_vm._v(\" \"),_c('div')])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"password-item item-outer\"},[_c('span',{staticClass:\"itme-key item-inner\"},[_vm._v(\"密码：\")]),_vm._v(\" \"),_c('span',{staticClass:\"itme-value item-inner\"},[_vm._v(\"******\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4eec1e18\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/userinfo/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4eec1e18\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4eec1e18\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4eec1e18\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/userinfo/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}